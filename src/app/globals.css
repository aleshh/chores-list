:root{ --bg: #ff8c1a; --fg: #ffffff; --muted: rgba(255,255,255,0.85); }
html,body{ height:100%; }
body{
  margin:0;
  background: var(--bg);
  color: var(--fg);
  font-family: var(--font-arvo), ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;
}
/* Ensure form controls inherit the app font (iOS Safari defaults to system UI) */
button, input, select, textarea { font: inherit; }
a{ color: inherit; text-decoration: none; }
*{ box-sizing: border-box; }

.container{ max-width: 1100px; margin: 0 auto; padding: 16px; }
.row{ display:flex; gap:16px; align-items:stretch; }
.col{ flex:1; background: rgba(0,0,0,0.18); border-radius: 16px; padding: 16px; }
.heading{ display:flex; align-items:center; justify-content:space-between; gap: 12px; }
.progressWrap{ display:flex; gap:16px; align-items:center; }
.big{ font-size: clamp(18px, 4vw, 28px); }
.appTitle{ font-family: var(--font-bungee), cursive; }
.kidName{ font-family: var(--font-emilys), cursive; letter-spacing: 1px; font-size: clamp(24px, 5vw, 40px); line-height: 1; }
.muted{ color: var(--muted); }
.list{ display:flex; flex-direction:column; gap: 8px; margin-top: 12px; }
.item{ position: relative; display:flex; align-items:center; justify-content:flex-start; gap: 12px; padding: 12px 12px; border-radius: 12px; background: rgba(0,0,0,0.18); overflow: hidden; }
.item.done .taskText{ opacity: 0.8; text-decoration: line-through; text-decoration-thickness: 0.18em; text-decoration-color: rgba(255,255,255,0.9); text-decoration-skip-ink: none; text-decoration-offset: 0.08em; }
.leftIcon{ width: calc(var(--task-fs, 24px) * 1.05); min-width: calc(var(--task-fs, 24px) * 1.05); height: var(--task-fs, 24px); display:inline-flex; align-items:center; justify-content:center; overflow: visible; }
.leftIcon.reward{ font-size: var(--task-fs, 24px); line-height: 1; transform: scale(1.32) translateY(-1px); }
.taskText{ font-size: var(--task-fs, 24px); }
.item.dragOver{ outline: 2px dashed rgba(255,255,255,0.85); background: rgba(0,0,0,0.3); }

/* Strike animation + sparkle overlay (Sparkle is positioned in .textWrap) */
.textWrap{ position: relative; display: inline-block; }
.item.striking .textWrap::after{ content: ""; position:absolute; left:0; top: 55%; height: 0.18em; background: rgba(255,255,255,0.98); border-radius: 2px; width: 0; animation: strike-grow 950ms cubic-bezier(.2,.9,.2,1) 500ms forwards; }
@keyframes strike-grow{ from{ width:0; } to{ width: 100%; } }

/* Left-to-right sparkle sweep using react-sparkle within moving bands */
.sparkle-sweep{ position:absolute; inset:0; pointer-events:none; overflow:visible; z-index: 1; }
.sparkle-band{ position:absolute; top:-8px; bottom:-8px; width: 55%; overflow:hidden; transform: translateX(-110%); animation: sweep-ltr 1400ms ease-out forwards; }
.sparkle-band.delay1{ animation-delay: 140ms; }
.sparkle-band.delay2{ animation-delay: 280ms; }
.sparkle-band.delay3{ animation-delay: 420ms; }
@keyframes sweep-ltr{ from{ transform: translateX(-110%); } to{ transform: translateX(110%); } }
.btn{ cursor:pointer; border:0; border-radius:12px; padding:10px 14px; background:#ffffff; color:#333; }
.btn.secondary{ background: rgba(255,255,255,0.2); color: #fff; }
.grid{ display:grid; grid-template-columns:1fr 1fr; gap:16px; }

/* sparkle */
.sparkle{ position:absolute; pointer-events:none; animation: pop 700ms ease forwards; }
@keyframes pop{ 0%{ transform: scale(0); opacity:.2; } 30%{ transform: scale(1); opacity:1; } 100%{ transform: scale(1.6) translateY(-12px); opacity:0; } }

/* confetti */
.confetti{ position: fixed; inset: 0; overflow: hidden; pointer-events: none; }
.confetti > i{ position:absolute; width:10px; height:14px; will-change: transform, opacity; opacity:0.9; }

nav{ display:flex; gap:10px; padding: 12px 16px; }
nav a{ padding: 6px 10px; border-radius: 10px; background: rgba(255,255,255,0.15); }

.topbar{ display:flex; align-items:center; justify-content:space-between; padding: 8px 16px; }
.topbar h1{ margin:0; font-size: clamp(20px, 4vw, 32px); }
.actions{ display:flex; gap:12px; }
.iconBtn{ width:42px; height:42px; display:grid; place-items:center; border-radius:12px; background: rgba(255,255,255,0.15); cursor:pointer; }
.iconBtn:active{ transform: scale(0.98); }

/* progress tiles */
.tilesRow{ display:flex; flex-wrap: wrap; gap: 10px; margin-top: 10px; }
.tile{ display:flex; flex-direction:column; align-items:center; justify-content:center; min-width: 76px; padding: 10px 12px; border-radius: 12px; background: rgba(0,0,0,0.22); }
.tile .score{ font-weight: 800; font-size: 22px; }
.tile .score.big{ font-size: 28px; }
.tile .date{ font-size: 12px; color: var(--muted); margin-top: 4px; }
